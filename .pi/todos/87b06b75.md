{
  "id": "87b06b75",
  "title": "[P2] Fix runner naming collision after CVM removal",
  "tags": [
    "pr-3",
    "robustness",
    "p2",
    "phala"
  ],
  "status": "open",
  "created_at": "2026-02-16T10:16:56.889Z"
}

**File:** `model_orchestrator/infrastructure/phala/_cluster.py`, lines 468â€“470

`runner_num` is calculated as `len(existing_runners) + 1`, counting only CVMs currently in `self.cvms`. If a runner was previously provisioned but went offline (removed from `self.cvms` during rediscovery), the new runner will get the same name (e.g., `runner-002` replaces a removed `runner-002`). This could collide with a still-existing CVM on the Phala platform that the orchestrator no longer tracks.

Consider querying the Phala API for existing CVM names matching the prefix, or using a timestamp/UUID-based suffix instead of sequential numbering.
